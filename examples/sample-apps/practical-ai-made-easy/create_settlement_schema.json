{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Create Settlement Request",
  "description": "JSON schema for creating a new insurance settlement using the pame_pkg.create_new_settlement function",
  "type": "object",
  "properties": {
    "incident_date": {
      "type": "string",
      "format": "date",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Date of the incident in YYYY-MM-DD format",
      "example": "2025-09-05"
    },
    "claimant_first_name": {
      "type": "string",
      "maxLength": 100,
      "minLength": 1,
      "description": "First name of the person making the claim",
      "example": "John"
    },
    "claimant_last_name": {
      "type": "string",
      "maxLength": 100,
      "minLength": 1,
      "description": "Last name of the person making the claim", 
      "example": "Doe"
    },
    "policy_type": {
      "type": "string",
      "maxLength": 100,
      "enum": ["Auto", "Homeowners", "Life", "Medical", "Property", "Personal Liability", "Marine", "Disability"],
      "description": "Type of insurance policy",
      "example": "Auto"
    },
    "incident_description": {
      "type": "string",
      "maxLength": 500,
      "description": "Brief description of what happened during the incident",
      "example": "Rear-end collision at traffic light during rush hour"
    },
    "claimant_email": {
      "type": "string",
      "format": "email",
      "maxLength": 255,
      "description": "Email address of the claimant",
      "example": "john.doe@example.com"
    },
    "claimant_phone": {
      "type": "string",
      "maxLength": 20,
      "pattern": "^[+]?[0-9\\s\\-\\(\\)]+$",
      "description": "Phone number of the claimant (international format preferred)",
      "example": "+33123456789"
    },
    "insured_first_name": {
      "type": "string",
      "maxLength": 100,
      "description": "First name of the insured person (if different from claimant)",
      "example": "Jane"
    },
    "insured_last_name": {
      "type": "string",
      "maxLength": 100,
      "description": "Last name of the insured person (if different from claimant)",
      "example": "Doe"
    },
    "settlement_amount": {
      "type": "number",
      "minimum": 0,
      "maximum": 99999999999999.99,
      "multipleOf": 0.01,
      "description": "Initial settlement amount (defaults to 0 if not provided)",
      "example": 2500.00
    },
    "currency_code": {
      "type": "string",
      "length": 3,
      "pattern": "^[A-Z]{3}$",
      "enum": ["EUR", "USD", "GBP", "CHF", "JPY", "CAD", "AUD"],
      "description": "3-letter ISO currency code (defaults to EUR if not provided)",
      "example": "EUR"
    },
    "notes": {
      "type": "string",
      "maxLength": 1000,
      "description": "Additional notes or comments about the settlement",
      "example": "Claim submitted via AI assistant"
    }
  },
  "required": [
    "incident_date",
    "claimant_first_name", 
    "claimant_last_name"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "incident_date": "2025-09-05",
      "claimant_first_name": "John",
      "claimant_last_name": "Doe",
      "policy_type": "Auto",
      "incident_description": "Rear-end collision at traffic light",
      "claimant_email": "john.doe@example.com",
      "claimant_phone": "+33123456789",
      "settlement_amount": 2500.00,
      "currency_code": "EUR",
      "notes": "Initial claim submission via AI tool"
    },
    {
      "incident_date": "2025-09-04",
      "claimant_first_name": "Jane",
      "claimant_last_name": "Smith",
      "policy_type": "Homeowners",
      "incident_description": "Storm damage to roof"
    },
    {
      "incident_date": "2025-09-03",
      "claimant_first_name": "Bob",
      "claimant_last_name": "Wilson"
    }
  ]
}
