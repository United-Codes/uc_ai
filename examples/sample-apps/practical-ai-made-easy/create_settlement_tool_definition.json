{
  "name": "create_new_settlement",
  "description": "Creates a new insurance settlement record based on initial damage report. Automatically generates claim and policy numbers. Returns JSON response with success/error status.",
  "parameters": {
    "type": "object",
    "properties": {
      "incident_date": {
        "type": "string",
        "format": "date",
        "description": "Date when the incident occurred (YYYY-MM-DD format)"
      },
      "claimant_first_name": {
        "type": "string",
        "description": "First name of the person making the insurance claim"
      },
      "claimant_last_name": {
        "type": "string", 
        "description": "Last name of the person making the insurance claim"
      },
      "policy_type": {
        "type": "string",
        "enum": ["Auto", "Homeowners", "Life", "Medical", "Property", "Personal Liability", "Marine", "Disability"],
        "description": "Type of insurance policy (optional)"
      },
      "incident_description": {
        "type": "string",
        "description": "Brief description of what happened during the incident (optional)"
      },
      "claimant_email": {
        "type": "string",
        "format": "email",
        "description": "Email address of the claimant (optional)"
      },
      "claimant_phone": {
        "type": "string",
        "description": "Phone number of the claimant in international format (optional)"
      },
      "insured_first_name": {
        "type": "string",
        "description": "First name of the insured person if different from claimant (optional)"
      },
      "insured_last_name": {
        "type": "string",
        "description": "Last name of the insured person if different from claimant (optional)"
      },
      "settlement_amount": {
        "type": "number",
        "minimum": 0,
        "description": "Initial settlement amount in the specified currency (optional, defaults to 0)"
      },
      "currency_code": {
        "type": "string",
        "pattern": "^[A-Z]{3}$",
        "description": "3-letter ISO currency code (optional, defaults to EUR)"
      },
      "notes": {
        "type": "string",
        "description": "Additional notes or comments about the settlement (optional)"
      }
    },
    "required": ["incident_date", "claimant_first_name", "claimant_last_name"],
    "additionalProperties": false
  },
  "returns": {
    "type": "string",
    "format": "json",
    "description": "JSON string containing either success response with settlement_id and claim_number, or error response with error message"
  },
  "examples": [
    {
      "input": {
        "incident_date": "2025-09-05",
        "claimant_first_name": "John",
        "claimant_last_name": "Doe",
        "policy_type": "Auto",
        "incident_description": "Rear-end collision at traffic light",
        "claimant_email": "john.doe@example.com",
        "settlement_amount": 2500.00
      },
      "output": "{\"status\": \"success\", \"message\": \"Settlement created successfully\", \"settlement_id\": 111, \"claim_number\": \"CL2025-456789-AI\"}"
    },
    {
      "input": {
        "incident_date": "2025-09-04",
        "claimant_first_name": "Jane",
        "claimant_last_name": "Smith"
      },
      "output": "{\"status\": \"success\", \"message\": \"Settlement created successfully\", \"settlement_id\": 112, \"claim_number\": \"CL2025-123456-AI\"}"
    }
  ],
  "auto_generated_fields": {
    "claim_number": {
      "pattern": "CL{YYYY}-{random_6_digits}-AI",
      "description": "Auto-generated unique claim identifier"
    },
    "policy_number": {
      "pattern": "POL{YYYY}-{random_6_digits}-AI", 
      "description": "Auto-generated policy number"
    },
    "settlement_id": {
      "type": "number",
      "description": "Auto-generated unique settlement identifier"
    },
    "settlement_date": {
      "type": "date",
      "description": "Auto-set to current system date"
    },
    "settlement_status": {
      "type": "string",
      "value": "Proposed",
      "description": "Always set to 'Proposed' for new settlements"
    }
  }
}
