{
  "compartmentId": "ocid1.tenancy.oc1..aaaaaaaaXXXX...",
  "servingMode": {
    "modelId": "meta.llama-3.3-70b-instruct",
    "servingType": "ON_DEMAND"
  },
  "chatRequest": {
    "apiFormat": "GENERIC",
    "maxTokens": 600,
    "isStream": false,
    "numGenerations": 1,
    "tools": [
      {
        "type": "FUNCTION",
        "description": "Clock in a user to the time tracking system. This needs a user_email and project_name as parameters. You can get these from other tools. Optionally pass notes if given by the user.\nExample parameters: {\"user_email\": \"user@example.com\",\"project_name\": \"TV Marketing\", \"notes\": \"Look for actors\"} or {\"user_email\": \"john.doe@gmail.com\",\"project_name\": \"Inventing Teleportation\"}",
        "name": "TT_CLOCK_IN",
        "parameters": {
          "type": "object",
          "properties": {
            "parameters": {
              "type": "object",
              "description": "JSON object containing parameters",
              "properties": {
                "user_email": {
                  "type": "string",
                  "description": "Email of the user"
                },
                "project_name": {
                  "type": "string",
                  "description": "Name of the project"
                },
                "notes": {
                  "type": "string",
                  "description": "Optional description of what the user is working on"
                }
              },
              "required": [
                "user_email",
                "project_name"
              ]
            }
          },
          "required": [
            "parameters"
          ],
          "additionalProperties": false,
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      {
        "type": "FUNCTION",
        "description": "Get information on all the projects in the system",
        "name": "TT_GET_PROJETS",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": [],
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      },
      {
        "type": "FUNCTION",
        "description": "Get information on all the users in the system",
        "name": "TT_GET_USERS",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": [],
          "$schema": "http://json-schema.org/draft-07/schema#"
        }
      }
    ],
    "messages": [
      {
        "role": "SYSTEM",
        "content": [
          {
            "type": "TEXT",
            "text": "You are an assistant to a time tracking system. Your tools give you access to user, project and timetracking information. Answer concise and short.\n        The current user is Michael Scott. Make sure to double check if inputs like user or project are correct.\n\n        If you clock somebody in, answer with: \"You are now clocked in to the project \"{{project_name}}\" with the note \"{{notes| - }}\"."
          }
        ]
      },
      {
        "role": "USER",
        "content": [
          {
            "type": "TEXT",
            "text": "Please clock me in to the marketing project with the note \"meeting\"."
          }
        ]
      },
      {
        "role": "ASSISTANT",
        "toolCalls": [
          {
            "type": "FUNCTION",
            "id": "chatcmpl-tool-8e83c746e93d49a6a785d557a6a11261",
            "name": "TT_CLOCK_IN",
            "arguments": "{\"user_email\": \"michael.scott@example.com\", \"project_name\": \"Marketing Project\", \"notes\": \"meeting\"}"
          }
        ]
      },
      {
        "role": "TOOL",
        "toolCallId": "chatcmpl-tool-8e83c746e93d49a6a785d557a6a11261",
        "content": [
          {
            "type": "TEXT",
            "text": "Error: ORA-20001: User with email michael.scott@example.com not found or inactive - Backtrace: ORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 49\nORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 383\nORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 447\n"
          }
        ]
      },
      {
        "role": "ASSISTANT",
        "toolCalls": [
          {
            "type": "FUNCTION",
            "id": "chatcmpl-tool-a9115fec48664489863057cc11658166",
            "name": "TT_CLOCK_IN",
            "arguments": "{\"user_email\": \"michael.scott@example.com\", \"project_name\": \"Marketing\", \"notes\": \"meeting\"}"
          }
        ]
      },
      {
        "role": "TOOL",
        "toolCallId": "chatcmpl-tool-a9115fec48664489863057cc11658166",
        "content": [
          {
            "type": "TEXT",
            "text": "Error: ORA-20001: User with email michael.scott@example.com not found or inactive - Backtrace: ORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 49\nORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 383\nORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 447\n"
          }
        ]
      },
      {
        "role": "ASSISTANT",
        "toolCalls": [
          {
            "type": "FUNCTION",
            "id": "chatcmpl-tool-031a2a56ac5f45d7ab6cb7f736292232",
            "name": "TT_GET_USERS",
            "arguments": "{}"
          }
        ]
      },
      {
        "role": "TOOL",
        "toolCallId": "chatcmpl-tool-031a2a56ac5f45d7ab6cb7f736292232",
        "content": [
          {
            "type": "TEXT",
            "text": "[{\"user_id\":2,\"first_name\":\"Pam\",\"last_name\":\"Beesly\",\"email\":\"pam.beesly@dundermifflin.com\",\"hire_date\":\"2024-11-01\",\"is_active\":\"Y\"},{\"user_id\":4,\"first_name\":\"Jim\",\"last_name\":\"Halpert\",\"email\":\"jim.halpert@dundermifflin.com\",\"hire_date\":\"2024-02-01\",\"is_active\":\"Y\"},{\"user_id\":6,\"first_name\":\"Kevin\",\"last_name\":\"Malone\",\"email\":\"kevin.malone@dundermifflin.com\",\"hire_date\":\"2024-10-01\",\"is_active\":\"N\"},{\"user_id\":5,\"first_name\":\"Angela\",\"last_name\":\"Martin\",\"email\":\"angela.martin@dundermifflin.com\",\"hire_date\":\"2024-05-01\",\"is_active\":\"Y\"},{\"user_id\":3,\"first_name\":\"Dwight\",\"last_name\":\"Schrute\",\"email\":\"dwight.schrute@dundermifflin.com\",\"hire_date\":\"2024-02-01\",\"is_active\":\"Y\"},{\"user_id\":1,\"first_name\":\"Michael\",\"last_name\":\"Scott\",\"email\":\"michael.scott@dundermifflin.com\",\"hire_date\":\"2024-05-01\",\"is_active\":\"Y\"}]"
          }
        ]
      },
      {
        "role": "ASSISTANT",
        "toolCalls": [
          {
            "type": "FUNCTION",
            "id": "chatcmpl-tool-3725ba0dd336415298f0accaa4c94129",
            "name": "TT_CLOCK_IN",
            "arguments": "{\"user_email\": \"michael.scott@dundermifflin.com\", \"project_name\": \"Marketing\", \"notes\": \"meeting\"}"
          }
        ]
      },
      {
        "role": "TOOL",
        "toolCallId": "chatcmpl-tool-3725ba0dd336415298f0accaa4c94129",
        "content": [
          {
            "type": "TEXT",
            "text": "Error: ORA-20002: Project Marketing not found or not active - Backtrace: ORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 66\nORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 392\nORA-06512: at \"UC_AI.TT_TIMETRACKING_API\", line 447\n"
          }
        ]
      },
      {
        "role": "ASSISTANT",
        "toolCalls": [
          {
            "type": "FUNCTION",
            "id": "chatcmpl-tool-34b3c295df2d4a70af2abdf9083f987a",
            "name": "TT_GET_PROJETS",
            "arguments": "{}"
          }
        ]
      },
      {
        "role": "TOOL",
        "toolCallId": "chatcmpl-tool-34b3c295df2d4a70af2abdf9083f987a",
        "content": [
          {
            "type": "TEXT",
            "text": "[{\"project_id\":6,\"project_name\":\"Customer Support Automation\",\"project_description\":\"Implementing AI-driven chatbot for support\",\"start_date\":\"2025-06-06\",\"end_date\":null,\"status\":\"Active\"},{\"project_id\":3,\"project_name\":\"Database Migration\",\"project_description\":\"Migrating legacy database to Oracle 23ai\",\"start_date\":\"2024-10-01\",\"end_date\":\"2025-04-16\",\"status\":\"Completed\"},{\"project_id\":7,\"project_name\":\"Infrastructure Upgrade\",\"project_description\":\"Upgrading server hardware and network infrastructure\",\"start_date\":\"2023-12-01\",\"end_date\":\"2024-12-01\",\"status\":\"Archived\"},{\"project_id\":4,\"project_name\":\"Internal HR System\",\"project_description\":\"Development of new internal HR management software\",\"start_date\":\"2025-05-01\",\"end_date\":null,\"status\":\"On Hold\"},{\"project_id\":5,\"project_name\":\"Marketing Campaign 2025\",\"project_description\":\"Planning and execution of 2025 marketing initiatives\",\"start_date\":\"2025-01-01\",\"end_date\":\"2025-12-11\",\"status\":\"Active\"},{\"project_id\":2,\"project_name\":\"Mobile App Development\",\"project_description\":\"Building cross-platform mobile application\",\"start_date\":\"2025-04-01\",\"end_date\":null,\"status\":\"Active\"},{\"project_id\":1,\"project_name\":\"Website Redesign\",\"project_description\":\"Overhaul of corporate website, new UX/UI\",\"start_date\":\"2025-03-01\",\"end_date\":\"2025-06-21\",\"status\":\"Active\"}]"
          }
        ]
      }
    ]
  }
}
